name: Deploy to Firebase Hosting  

on:  
  push:  
    branches:  
      - hosted  

jobs:  
  build-and-deploy:  
    runs-on: ubuntu-latest  
    steps:  
      - name: Checkout code  
        uses: actions/checkout@v2  
      
      - name: Set up Node.js  
        uses: actions/setup-node@v2  
        with:  
          node-version: '14'

      - name: Install dependencies  
        run: npm i 

      - name: Build  
        run: npm run build  

      - name: Deploy to Firebase Hosting  
        uses: wzieba/Firebase-Hosting-Action@v2.2.0  
        with:  
          firebaseServiceAccount: ${{ secrets.FIREBASE_SERVICE_ACCOUNT }}  
          projectId: your-project-id  
          args: 'deploy'